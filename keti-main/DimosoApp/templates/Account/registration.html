{% load static %}
{% load i18n %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>User Registration | Mwasote</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <style>
        body{
            min-height:100vh;
            background:
                linear-gradient(rgba(27,94,32,0.78), rgba(27,94,32,0.78)),
                url('https://images.unsplash.com/photo-1523741543316-beb7fc7023d8');
            background-size:cover;
            background-position:center;
            display:flex;
            align-items:center;
            justify-content:center;
            font-family: 'Segoe UI', sans-serif;
        }

        /* CARD */
        .register-card{
            width:100%;
            max-width:480px;
            background:rgba(255,255,255,0.15);
            backdrop-filter:blur(14px);
            border-radius:28px;
            padding:38px 32px;
            box-shadow:0 35px 70px rgba(0,0,0,.45);
            border:1px solid rgba(255,255,255,.25);
            color:#fff;
        }

        .register-card h3{
            font-weight:800;
            text-align:center;
            margin-bottom:5px;
        }

        .register-card p{
            text-align:center;
            font-size:14px;
            opacity:.9;
        }

        /* LABELS */
        .form-label{
            font-size:13px;
            font-weight:600;
            margin-bottom:6px;
            color:#e8f5e9;
        }

        /* INPUT GROUP */
        .input-group-text{
            background:rgba(255,255,255,.22);
            border:none;
            color:#fff;
            border-radius:14px 0 0 14px;
        }

        .form-control,
        .form-select{
            background:rgba(255,255,255,.18);
            border:none;
            color:#fff;
            border-radius:0 14px 14px 0;
            padding:13px;
        }

        .form-control::placeholder{
            color:#e0e0e0;
        }

        .form-control:focus,
        .form-select:focus{
            background:rgba(255,255,255,.28);
            box-shadow:none;
            color:#fff;
        }

        .form-select option{
            color:#000;
        }

        /* ROLE CARDS */
        .role-card{
            background:rgba(255,255,255,.18);
            border-radius:16px;
            padding:14px 16px;
            display:flex;
            align-items:center;
            justify-content:space-between;
            margin-bottom:12px;
        }

        .role-card label{
            font-size:14px;
            font-weight:600;
        }

        .form-check-input{
            width:42px;
            height:22px;
            cursor:pointer;
        }

        /* BUTTON */
        .btn-register{
            background:linear-gradient(135deg,#66bb6a,#2e7d32);
            border:none;
            border-radius:35px;
            padding:14px;
            font-weight:700;
            color:#fff;
            transition:.4s;
            box-shadow:0 12px 30px rgba(0,0,0,.35);
        }

        .btn-register:hover{
            transform:translateY(-3px);
            box-shadow:0 22px 45px rgba(0,0,0,.45);
        }

        /* ERRORS */
        .error-message{
            background:rgba(220,53,69,.9);
            padding:10px 14px;
            border-radius:14px;
            font-size:13px;
            text-align:center;
            margin-bottom:8px;
        }

        .register-footer{
            text-align:center;
            margin-top:18px;
            font-size:14px;
        }

        .register-footer a{
            color:#c8e6c9;
            font-weight:700;
            text-decoration:none;
        }

        .register-footer a:hover{
            text-decoration:underline;
        }
    </style>
</head>
<body>

<div class="register-card">

    <h3>Mwasote Pembejeo</h3>
    <p>Inventory Management System</p>

    <!-- ERRORS -->
    {% for field in registration_form %}
        {% for error in field.errors %}
            <div class="error-message">{{ error }}</div>
        {% endfor %}
    {% endfor %}

    <form method="POST">
        {% csrf_token %}

        <!-- EMAIL -->
        <label class="form-label">Email Address</label>
        <div class="input-group mb-3">
            <span class="input-group-text"><i class="fa fa-envelope"></i></span>
            {{ registration_form.email }}
        </div>

        <!-- USERNAME -->
        <label class="form-label">Username</label>
        <div class="input-group mb-3">
            <span class="input-group-text"><i class="fa fa-user"></i></span>
            {{ registration_form.username }}
        </div>

        <!-- SHOP -->
        <label class="form-label">Assign Shop</label>
        <div class="mb-3">
            {{ registration_form.ShopName }}
        </div>

        <!-- ROLES -->
        <label class="form-label">User Roles</label>

        <div class="role-card">
            <label><i class="fa fa-user-tie"></i> Staff User</label>
            {{ registration_form.is_staff }}
        </div>

        <div class="role-card">
            <label><i class="fa fa-shield-halved"></i> Superuser</label>
            {{ registration_form.is_superuser }}
        </div>

        <!-- PASSWORD -->
        <label class="form-label">Password</label>
        <div class="input-group mb-3">
            <span class="input-group-text"><i class="fa fa-lock"></i></span>
            {{ registration_form.password1 }}
        </div>

        <!-- CONFIRM -->
        <label class="form-label">Confirm Password</label>
        <div class="input-group mb-4">
            <span class="input-group-text"><i class="fa fa-lock"></i></span>
            {{ registration_form.password2 }}
        </div>

        <button type="submit" class="btn btn-register w-100">
            <i class="fa fa-user-plus"></i> Create Account
        </button>
    </form>

    <div class="register-footer">
        <p class="mt-3">
            <a href="{% url 'users_list' %}">View all users</a>
        </p>
    </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>